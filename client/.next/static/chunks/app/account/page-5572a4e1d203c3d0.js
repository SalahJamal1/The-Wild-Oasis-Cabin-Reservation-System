(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{2208:(e,t,a)=>{Promise.resolve().then(a.bind(a,7841))},7841:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var l=a(5155),s=a(8056);let n=function(e){let{user:t}=e;return(0,l.jsx)("div",{className:"ml-12",children:(0,l.jsxs)("div",{className:"flex flex-col py-12 rounded-lg px-8 max-w-[30rem] flex-1",children:[(0,l.jsxs)("h2",{className:"text-xl text-accent-500 tracking-widest mb-8 uppercase",children:[t.firstName," ACCOUNT"]}),(0,l.jsxs)("form",{method:"POST",children:[(0,l.jsx)("label",{className:"block text-primary-200 capitalize mb-2",children:"first name"}),(0,l.jsx)("input",{placeholder:"first name",required:!0,type:"text",className:"block w-full rounded-full px-4 py-1 mb-6 text-primary-800",defaultValue:t.firstName,disabled:!0}),(0,l.jsx)("label",{className:"block text-primary-200 capitalize mb-2",children:"last name"}),(0,l.jsx)("input",{placeholder:"last name",required:!0,type:"text",className:"block w-full rounded-full px-4 py-1 mb-6 text-primary-800",defaultValue:t.lastName,disabled:!0}),(0,l.jsx)("label",{className:"block text-primary-200 capitalize mb-2",children:"Email address"}),(0,l.jsx)("input",{placeholder:"email",required:!0,type:"email",className:"block w-full rounded-full px-4 py-1 text-primary-800 mb-6",defaultValue:t.email,disabled:!0})]})]})})};var r=a(1849),i=a(5186);let c=function(){let{user:e,loading:t}=(0,s.m)();return(0,l.jsx)(l.Fragment,{children:t?(0,l.jsx)(i.A,{}):e.firstName?(0,l.jsx)(n,{user:e}):(0,l.jsx)(r.A,{})})}},1849:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var l=a(5155),s=a(8173),n=a.n(s);let r=function(){return(0,l.jsx)("div",{className:"bg-primary-700 flex items-center justify-center h-full",children:(0,l.jsxs)("p",{className:"text-xl",children:["Please",(0,l.jsx)(n(),{href:"/login",className:"text-accent-500 mx-2",children:"login"}),"to reserve this cabin right now"]})})}},8056:(e,t,a)=>{"use strict";a.d(t,{default:()=>c,m:()=>u});var l=a(5155),s=a(2115),n=a(1059);let r={from:null,to:null},i=(0,s.createContext)(),c=function(e){let{children:t}=e,[a,c]=(0,s.useState)(r),[u,o]=(0,s.useState)({}),[d,f]=(0,s.useState)(!1),[m,x]=(0,s.useState)(!0);async function p(){x(!0);try{await (0,n.fQ)(),o({}),f(!1)}catch(e){console.log(e)}finally{x(!1)}}return(0,s.useEffect)(function(){(async function(){x(!0);try{let e=await (0,n.wz)();o(e)}catch(e){console.log(e),x(!1)}finally{x(!1)}})()},[]),(0,l.jsx)(i.Provider,{value:{selected:a,setSelected:c,reset:()=>c(null),user:u,Setuser:o,handelLogout:p,SetAuth:f,loading:m,Setloading:x},children:t})},u=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("the context used outside");return e}},5186:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(5155);let s=function(){return(0,l.jsx)("div",{className:"flex  justify-center w-full h-full absolute -translate-x-[50%] left-[50%] top-[30%]",children:(0,l.jsx)("div",{className:"loader"})})}},1059:(e,t,a)=>{"use strict";a.d(t,{Dk:()=>n,Mr:()=>o,VA:()=>d,az:()=>r,fQ:()=>i,sH:()=>u,wz:()=>c});let{default:l}=a(9542),s=l.create({baseURL:"http://127.0.0.1:8080/api/v1/",withCredentials:!0});async function n(e){await s.post("/auth/signup",e)}async function r(e){return(await s.post("/auth/login",e)).data}async function i(){await s.get("/auth/logout")}async function c(){return(await s.get("/auth/current")).data}async function u(e){console.log(await s.post("bookings",e))}async function o(){return(await s.get("/bookings/bookingindery")).data}async function d(e){await s.delete("/bookings/".concat(e))}}},e=>{var t=t=>e(e.s=t);e.O(0,[173,542,441,517,358],()=>t(2208)),_N_E=e.O()}]);