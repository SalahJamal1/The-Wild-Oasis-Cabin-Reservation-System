(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[880],{467:(e,t,r)=>{Promise.resolve().then(r.bind(r,943))},943:(e,t,r)=>{"use strict";r.d(t,{default:()=>b});var n=r(5155),a=r(2115),i=r(1059),s=r(4146),l=r.n(s),c=r(2741),o=r(1536),u=r(8100),f=r(8173),d=r.n(f);let p=function(){return(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 space-y-8 capitalize",children:[(0,n.jsx)("p",{className:"text-xl",children:"\uD83D\uDE1D There are no bookings,"}),(0,n.jsx)(d(),{className:"bg-accent-500 text-primary-800 font-semibold text-xl px-8 py-6",href:"/cabins",children:"explore luxury cabins!"})]})};var m=r(5186),x=r(8056),y=r(1849);let b=function(){let{user:e,loading:t,Setloading:r}=(0,x.m)(),[s,f]=(0,a.useState)([]);async function d(e){r(!0);try{await (0,i.VA)(e),f(t=>t.filter(t=>t.id!==e))}catch(e){console.log(e)}finally{r(!1)}}return((0,a.useEffect)(function(){(async function(){r(!0);try{let e=await (0,i.Mr)();f(e)}catch(e){console.log(e)}finally{r(!1)}})()},[r]),t)?(0,n.jsx)(m.A,{}):e.firstName?s.length?(0,n.jsx)("ul",{className:"flex flex-col py-12 rounded-lg px-8 space-y-4 overflow-y-scroll h-[27rem] ml-12",children:s.map(e=>(0,n.jsxs)("li",{className:"flex h-[8rem] gap-8 border border-primary-800",children:[(0,n.jsx)("div",{className:"relative aspect-square flex-1",children:(0,n.jsx)(l(),{src:e.cabin.image,alt:e.user.firstName,fill:!0,className:"object-cover flex-1"})}),(0,n.jsxs)("div",{className:"flex-grow py-2 px-4",children:[(0,n.jsxs)("h2",{className:"text-base capitalize flex items-center mb-1",children:[(0,n.jsx)("span",{className:"text-2xl mr-2",children:(0,c.X)(e.startDate,e.endDate)}),"nights in Cabin ",e.cabin.name]}),(0,n.jsxs)("p",{className:"text-primary-300 capitalize mb-4",children:["from ",(0,c.H)(e.startDate)," â€” to"," ",(0,c.H)(e.endDate)]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("p",{className:"text-accent-500 text-xl",children:["$ ",(0,c.X)(e.startDate,e.endDate)*e.cabin.regularPrice]}),(0,n.jsxs)("span",{className:"text-primary-300 capitalize",children:["Booked ",(0,c.H)(e.createdAt)]})]})]}),(0,n.jsxs)("div",{className:"flex flex-col border-l border-primary-800 overflow-hidden",children:[(0,n.jsxs)("span",{className:"flex  items-center gap-2 text-primary-300 text-xs uppercase broder-b border-primary-800 px-6 py-6 border-b hover:bg-accent-500 transition-all duration-150 hover:text-primary-800 cursor-pointer",children:[(0,n.jsx)(o.uO9,{}),"Edit"]}),(0,n.jsxs)("span",{onClick:()=>d(e.id),className:"flex  items-center gap-2 text-primary-300 text-xs uppercase px-6 py-6 hover:bg-accent-500 transition-all duration-150 hover:text-primary-800 cursor-pointer",children:[(0,n.jsx)(u.HDo,{}),"delete"]})]})]},e.id))}):(0,n.jsx)(p,{}):(0,n.jsx)(y.A,{})}},1849:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(5155),a=r(8173),i=r.n(a);let s=function(){return(0,n.jsx)("div",{className:"bg-primary-700 flex items-center justify-center h-full",children:(0,n.jsxs)("p",{className:"text-xl",children:["Please",(0,n.jsx)(i(),{href:"/login",className:"text-accent-500 mx-2",children:"login"}),"to reserve this cabin right now"]})})}},8056:(e,t,r)=>{"use strict";r.d(t,{default:()=>c,m:()=>o});var n=r(5155),a=r(2115),i=r(1059);let s={from:null,to:null},l=(0,a.createContext)(),c=function(e){let{children:t}=e,[r,c]=(0,a.useState)(s),[o,u]=(0,a.useState)({}),[f,d]=(0,a.useState)(!1),[p,m]=(0,a.useState)(!0);async function x(){m(!0);try{await (0,i.fQ)(),u({}),d(!1)}catch(e){console.log(e)}finally{m(!1)}}return(0,a.useEffect)(function(){(async function(){m(!0);try{let e=await (0,i.wz)();u(e)}catch(e){console.log(e),m(!1)}finally{m(!1)}})()},[]),(0,n.jsx)(l.Provider,{value:{selected:r,setSelected:c,reset:()=>c(null),user:o,Setuser:u,handelLogout:x,SetAuth:d,loading:p,Setloading:m},children:t})},o=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("the context used outside");return e}},5186:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5155);let a=function(){return(0,n.jsx)("div",{className:"flex  justify-center w-full h-full absolute -translate-x-[50%] left-[50%] top-[30%]",children:(0,n.jsx)("div",{className:"loader"})})}},1059:(e,t,r)=>{"use strict";r.d(t,{Dk:()=>i,Mr:()=>u,VA:()=>f,az:()=>s,fQ:()=>l,sH:()=>o,wz:()=>c});let{default:n}=r(9542),a=n.create({baseURL:"http://127.0.0.1:8080/api/v1/",withCredentials:!0});async function i(e){await a.post("/auth/signup",e)}async function s(e){return(await a.post("/auth/login",e)).data}async function l(){await a.get("/auth/logout")}async function c(){return(await a.get("/auth/current")).data}async function o(e){console.log(await a.post("bookings",e))}async function u(){return(await a.get("/bookings/bookingindery")).data}async function f(e){await a.delete("/bookings/".concat(e))}},2741:(e,t,r)=>{"use strict";function n(e,t){let r=new Date(e).getDate();return Math.abs(new Date(t).getDate()-r)}function a(e){return Intl.DateTimeFormat("en-us",{month:"long",day:"numeric",year:"numeric"}).format(new Date(e))}r.d(t,{H:()=>a,X:()=>n})},4146:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return c},getImageProps:function(){return l}});let n=r(306),a=r(666),i=r(7970),s=n._(r(5514));function l(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=i.Image},3435:(e,t,r)=>{"use strict";r.d(t,{k5:()=>u});var n=r(2115),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=n.createContext&&n.createContext(a),s=["attr","size","title"];function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,a;n=t,a=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return t=>n.createElement(f,l({attr:o({},e.attr)},t),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,o({key:r},t.attr),e(t.child)))}(e.child))}function f(e){var t=t=>{var r,{attr:a,size:i,title:c}=e,u=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,s),f=i||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,u,{className:r,style:o(o({color:e.color||t.color},t.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),c&&n.createElement("title",null,c),e.children)};return void 0!==i?n.createElement(i.Consumer,null,e=>t(e)):t(a)}}},e=>{var t=t=>e(e.s=t);e.O(0,[204,711,173,542,970,441,517,358],()=>t(467)),_N_E=e.O()}]);