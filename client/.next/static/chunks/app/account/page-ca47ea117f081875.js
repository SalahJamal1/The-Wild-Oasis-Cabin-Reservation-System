(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{2208:(e,t,a)=>{Promise.resolve().then(a.bind(a,7841))},7841:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var l=a(5155),s=a(8056);let r=function(e){let{user:t}=e;return(0,l.jsx)("div",{className:"ml-12",children:(0,l.jsxs)("div",{className:"flex flex-col py-12 rounded-lg px-8 max-w-[30rem] flex-1",children:[(0,l.jsxs)("h2",{className:"text-xl text-accent-500 tracking-widest mb-8 uppercase",children:[t.firstName," ACCOUNT"]}),(0,l.jsxs)("form",{method:"POST",children:[(0,l.jsx)("label",{className:"block text-primary-200 capitalize mb-2",children:"first name"}),(0,l.jsx)("input",{placeholder:"first name",required:!0,type:"text",className:"block w-full rounded-full px-4 py-1 mb-6 text-primary-800",defaultValue:t.firstName,disabled:!0}),(0,l.jsx)("label",{className:"block text-primary-200 capitalize mb-2",children:"last name"}),(0,l.jsx)("input",{placeholder:"last name",required:!0,type:"text",className:"block w-full rounded-full px-4 py-1 mb-6 text-primary-800",defaultValue:t.lastName,disabled:!0}),(0,l.jsx)("label",{className:"block text-primary-200 capitalize mb-2",children:"Email address"}),(0,l.jsx)("input",{placeholder:"email",required:!0,type:"email",className:"block w-full rounded-full px-4 py-1 text-primary-800 mb-6",defaultValue:t.email,disabled:!0})]})]})})};var n=a(1849),i=a(5186);let c=function(){let{user:e,loading:t}=(0,s.m)();return(0,l.jsx)(l.Fragment,{children:t?(0,l.jsx)(i.A,{}):e.firstName?(0,l.jsx)(r,{user:e}):(0,l.jsx)(n.A,{})})}},1849:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(5155),s=a(8173),r=a.n(s);let n=function(){return(0,l.jsx)("div",{className:"bg-primary-700 flex items-center justify-center h-full",children:(0,l.jsxs)("p",{className:"text-xl",children:["Please",(0,l.jsx)(r(),{href:"/login",className:"text-accent-500 mx-2",children:"login"}),"to reserve this cabin right now"]})})}},8056:(e,t,a)=>{"use strict";a.d(t,{default:()=>u,m:()=>o});var l=a(5155),s=a(2115),r=a(1059),n=a(5037);let i={from:null,to:null},c=(0,s.createContext)(),u=function(e){let{children:t}=e,[a,u]=(0,s.useState)(i),[o,d]=(0,s.useState)({}),[f,m]=(0,s.useState)(!1),[x,p]=(0,s.useState)(!0);async function h(){p(!0);try{await (0,r.fQ)(),n.Ay.success("Success! Your are Logout."),d({}),m(!1)}catch(e){console.log(e),n.Ay.error(e.message)}finally{p(!1)}}return(0,s.useEffect)(function(){(async function(){p(!0);try{let e=await (0,r.wz)();d(e)}catch(e){console.log(e),p(!1)}finally{p(!1)}})()},[]),(0,l.jsx)(c.Provider,{value:{selected:a,setSelected:u,reset:()=>u(null),user:o,Setuser:d,handelLogout:h,SetAuth:m,loading:x,Setloading:p},children:t})},o=()=>{let e=(0,s.useContext)(c);if(void 0===e)throw Error("the context used outside");return e}},5186:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var l=a(5155);let s=function(){return(0,l.jsx)("div",{className:"flex  justify-center w-full h-full absolute -translate-x-[50%] left-[50%] top-[30%]",children:(0,l.jsx)("div",{className:"loader"})})}},1059:(e,t,a)=>{"use strict";a.d(t,{Dk:()=>r,Mr:()=>o,VA:()=>d,az:()=>n,fQ:()=>i,sH:()=>u,wz:()=>c}),a(6046);let{default:l}=a(9542),s=l.create({baseURL:"http://127.0.0.1:8080/api/v1/",withCredentials:!0});async function r(e){await s.post("/auth/signup",e)}async function n(e){return(await s.post("/auth/login",e)).data}async function i(){await s.get("/auth/logout")}async function c(){return(await s.get("/auth/current")).data}async function u(e){console.log(await s.post("bookings",e))}async function o(){return(await s.get("/bookings/bookingindery")).data}async function d(e){await s.delete("/bookings/".concat(e))}}},e=>{var t=t=>e(e.s=t);e.O(0,[173,425,37,441,517,358],()=>t(2208)),_N_E=e.O()}]);